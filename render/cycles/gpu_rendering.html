

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-hans" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-hans" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GPU渲染 &mdash; Blender Manual</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="https://docs.blender.org/manual/en/latest/render/cycles/gpu_rendering.html"/>
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/js/version_switch.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Blender Manual"
          href="../../_static/opensearch.xml"/>

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="渲染烘焙" href="baking.html" />
    <link rel="prev" title="毛发粒子" href="settings/objects/hair.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Blender 2.80 Manual
          

          
            
            <img src="../../_static/blender-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Blender入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../interface/index.html">用户界面</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../editors/index.html">编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_system/index.html">数据系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modeling/index.html">制作模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sculpt_paint/index.html">绘制与雕刻</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rigging/index.html">绑定</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../animation/index.html">动画</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../physics/index.html">物理</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">渲染</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">简介</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lighting/index.html">灯光</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eevee/index.html">Eevee 渲染器</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Cycles渲染引擎</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="introduction.html">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="materials/index.html">材质</a></li>
<li class="toctree-l3"><a class="reference internal" href="lamps.html">灯光</a></li>
<li class="toctree-l3"><a class="reference internal" href="world.html">世界</a></li>
<li class="toctree-l3"><a class="reference internal" href="nodes/index.html">节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="camera.html">Cameras</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html">渲染功能特性</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings/index.html">Cycles Settings</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">GPU渲染</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-features-and-limitations">支持特性和限制</a></li>
<li class="toctree-l4"><a class="reference internal" href="#frequently-asked-questions">常见问题</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-messages">报错信息</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="baking.html">渲染烘焙</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimizations/index.html">Optimizing Renders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../output/index.html">渲染输出</a></li>
<li class="toctree-l2"><a class="reference internal" href="../post_process/index.html">后期处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../freestyle/index.html">Freestyle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workflows/index.html">工作流</a></li>
<li class="toctree-l2"><a class="reference internal" href="../opengl.html">OpenGL渲染</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audio/index.html">音频渲染</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../compositing/index.html">合成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../preferences/index.html">用户设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/index.html">高级应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../addons/index.html">插件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pipeline/index.html">管线</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/index.html">问题排查</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/index.html">词汇表</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">关于本手册</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Blender 2.80 Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">渲染</a> &raquo;</li>
        
          <li><a href="index.html">Cycles渲染引擎</a> &raquo;</li>
        
      <li>GPU渲染</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/render/cycles/gpu_rendering.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gpu-rendering">
<h1>GPU渲染<a class="headerlink" href="#gpu-rendering" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>介绍<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>使用 <abbr title="图形处理元件">GPU</abbr> 渲染既能够使用你的显卡进行渲染，而不是CPU。这会加快渲染速度，因为如今的GPU的设计旨在能够胜任大量运算方面的应用。另一方面，在渲染复杂场景时，当使用相同显卡进行显示与渲染时，它们也会因有限的显存容量和交互性繁体而受到局限。</p>
<p>Cycles 有两种GPU渲染模式: <em>CUDA</em> , 在 NVIDIA 的显卡上运行的加速模式; 以及 <em>OpenCL</em> , AMD 的显卡上运行的加速模式。</p>
</div>
<div class="section" id="configuration">
<h2>配置<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>要想启用GPU渲染，请进入User Preferences（用户首选项），在System tab（系统标签）栏下,选择Compute Device(s)to use（用于计算的设备）。然后，你就可以在各个场景的Render properties（渲染属性）面板中配置使用CPU或GPU进行渲染了。</p>
<div class="section" id="cuda">
<h3>CUDA<a class="headerlink" href="#cuda" title="Permalink to this headline">¶</a></h3>
<p>Nvidia <abbr title="图形处理元件">CUDA（计算统一设备架构)</abbr> 支持使用 <em>nvidia</em> 图形卡进行GPU渲染。我们支持从GTX6XX开始的图形卡（计算能力从3.0到6.1）。</p>
<p>Cycles要求在所有操作系统上都需要安装最新的Nvidia驱动程序。</p>
<p><a class="reference external" href="http://www.nvidia.com/object/cuda_gpus.htm">CUDA显卡列表对应的着色模式版本</a>。</p>
</div>
<div class="section" id="opencl">
<h3>OpenCL<a class="headerlink" href="#opencl" title="Permalink to this headline">¶</a></h3>
<p>使用 <em>AMD</em> 显卡支持 <abbr title="开放式计算语言">OpenCL</abbr> 的GPU渲染。（我们只支持显卡具有 <abbr title="下一代图形核心">GCN</abbr> 架构2.0及以上（HD 7xxx 及以上）。不是所有的7系显卡都是GCN架构的，为了确保您的GPU支持，请查看 <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_AMD_graphics_processing_units">此Wikipedia页面</a>。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cycles要求最新的AMD驱动已经安装，所有平台的系统都需要。</p>
</div>
</div>
</div>
<div class="section" id="supported-features-and-limitations">
<h2>支持特性和限制<a class="headerlink" href="#supported-features-and-limitations" title="Permalink to this headline">¶</a></h2>
<p>概览支持的特性，请查看对比表格 <a class="reference internal" href="features.html"><span class="doc">特性</span></a> 。</p>
</div>
<div class="section" id="frequently-asked-questions">
<h2>常见问题<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="why-is-blender-unresponsive-during-rendering">
<h3>为什么在渲染过程中Blender没有反应？<a class="headerlink" href="#why-is-blender-unresponsive-during-rendering" title="Permalink to this headline">¶</a></h3>
<p>显卡正在渲染时，它不能重新绘制用户界面，这会导致Blender无法响应。我们试图通过尽可能频繁地回馈GPU控制来避免这个问题，但是无法保证完全平滑的交互，特别是在繁重的场景中。这是显卡没有真正解决方案的限制，尽管我们可能在未来有所改进。</p>
<p>如果可能的话，最好配备多个GPU，其中的一个用于显示界面，另一个用于渲染。</p>
</div>
<div class="section" id="why-does-a-scene-that-renders-on-the-cpu-not-render-on-the-gpu">
<h3>为什么场景是通过CPU渲染的，而不是GPU？<a class="headerlink" href="#why-does-a-scene-that-renders-on-the-cpu-not-render-on-the-gpu" title="Permalink to this headline">¶</a></h3>
<p>这可能会有多种原因，但是最常见的是您的显存不足所致。我们目前只可渲染适显存容许范围内场景，而这通常会比CPU的小。需要注意的是，举例来说，8k、4k、2k和1k大小的图像纹理会分别占用256MB、64MB、16MB以及4MB的显存容量。</p>
<p>我们打算加入一套系统，来支持超过GPU内存负载的场景，但短期内不会加入。</p>
</div>
<div class="section" id="can-multiple-gpus-be-used-for-rendering">
<h3>多个GPU可以用于渲染吗？<a class="headerlink" href="#can-multiple-gpus-be-used-for-rendering" title="Permalink to this headline">¶</a></h3>
<p>可以。打开 <span class="menuselection">用户设置（User Preferences） ‣ 系统（ System） ‣ 计算设备面板（Compute Device Panel）</span> ，按需进行设置即可。</p>
</div>
<div class="section" id="would-multiple-gpus-increase-available-memory">
<h3>多个GPU能够增加显存容量吗？<a class="headerlink" href="#would-multiple-gpus-increase-available-memory" title="Permalink to this headline">¶</a></h3>
<p>不能，每个GPU只能访问自身的显存。</p>
</div>
<div class="section" id="what-renders-faster-nvidia-or-amd-cuda-or-opencl">
<h3>那种渲染方案更为快速？NVIDIA还是AMD？CUDA还是OpenCL？<a class="headerlink" href="#what-renders-faster-nvidia-or-amd-cuda-or-opencl" title="Permalink to this headline">¶</a></h3>
<p>目前Nvidia与CUDA渲染速度最快，但这取决于您购买的硬件。目前，CUDA和OpenCL在最新的中端GPU中大致相同。但是，CUDA在高端GPU方面是最快的。</p>
</div>
</div>
<div class="section" id="error-messages">
<h2>报错信息<a class="headerlink" href="#error-messages" title="Permalink to this headline">¶</a></h2>
<div class="section" id="unsupported-gnu-version-gcc-4-7-and-up-are-not-supported">
<h3>Unsupported GNU version! gcc 4.5 and up are not supported!（不支持的GNU版本！不支持gcc 4.5及以上版本！）<a class="headerlink" href="#unsupported-gnu-version-gcc-4-7-and-up-are-not-supported" title="Permalink to this headline">¶</a></h3>
<p>在Linux系统下，根据你的GCC版本，你可能会收到此错误。有两种可能的解决方案：</p>
<dl>
<dt>使用备用编译器</dt><dd><p>如果安装了与安装的CUDA工具包版本兼容的较旧GCC，则可以使用它而不是默认编译器。这是通过在启动Blender时设置 <code class="docutils literal notranslate"><span class="pre">CYCLES_CUDA_EXTRA_CFLAGS</span></code> 环境变量来完成的。</p>
<p>从命令行启动Blender，如下所示：</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">CYCLES_CUDA_EXTRA_CFLAGS</span><span class="o">=</span><span class="s2">&quot;-ccbin gcc-x.x&quot;</span> blender
</pre></div>
</div>
<p>（替换兼容gcc编译器的名称或路径）。</p>
</dd>
<dt>删除兼容性检查</dt><dd><p>如果以上方法都不管用，在 ''/usr/local/cuda/include/host_config.h'' 中删除如下行内容即可</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#error -- unsupported GNU version! gcc 4.7 and up are not supported!</span>
</pre></div>
</div>
</dd>
</dl>
<p>这将允许Cycles在第一次尝试使用GPU进行渲染时成功编译CUDA渲染内核。成功构建内核后，你可以像往常一样启动Blender，CUDA内核仍将用于渲染。</p>
</div>
<div class="section" id="cuda-error-invalid-kernel-image">
<h3>CUDA错误：无效的内核图像<a class="headerlink" href="#cuda-error-invalid-kernel-image" title="Permalink to this headline">¶</a></h3>
<p>如果您在Windows 64位系统下遇到此错误信息，请务必使用64位的Blender版本，而不要使用32位版本。</p>
</div>
<div class="section" id="cuda-error-kernel-compilation-failed">
<h3>CUDA错误：内核编译失败<a class="headerlink" href="#cuda-error-kernel-compilation-failed" title="Permalink to this headline">¶</a></h3>
<p>如果您有新的Nvidia显卡尚未支持您安装的Blender版本和CUDA工具包，则可能会出现此错误。在这种情况下，Blender可能会尝试为您的图形卡动态构建内核并失败。</p>
<p>在这种情况下，您可以：</p>
<ol class="arabic simple">
<li><p>检查最新的Blender版本（官方或 <a class="reference external" href="https://builder.blender.org/download/experimental/">实验版本</a>) 是否支持您的图形卡。</p></li>
<li><p>如果您自己构建Blender，请尝试下载并安装更新的CUDA开发人员工具包。</p></li>
</ol>
<p>通常用户不需要安装CUDA工具箱，因为Blender带有预编译的内核。</p>
</div>
<div class="section" id="cuda-error-out-of-memory">
<h3>CUDA错误：内存不足<a class="headerlink" href="#cuda-error-out-of-memory" title="Permalink to this headline">¶</a></h3>
<p>这通常意味着GPU中没有足够的显存容量来存储场景。目前我们只能渲染显存容量允许范围内的场景，而这通常比CPU的要小。详请参见上文内容。</p>
</div>
<div class="section" id="the-nvidia-opengl-driver-lost-connection-with-the-display-driver">
<h3>NVIDIA OpenGL驱动与显示驱动程序失去连接<a class="headerlink" href="#the-nvidia-opengl-driver-lost-connection-with-the-display-driver" title="Permalink to this headline">¶</a></h3>
<p>如果同时使用GPU来显示与渲染，Windows系统在GPU渲染计算时间方面存在局限。如果您的场景非常复杂，那么Cycles引擎就需要占用过多的GPU时间。通过降低Performance（性能）面板中的Tile size（平铺尺寸）值可以让此问题得到缓解，但真正的解决方案只有使用多个相对独立的显卡分别进行界面显示与渲染。</p>
<p>另外一种解决方案是增大失去相应的等待时间；这会使在渲染计算力非常大的场景的时候，让用户界面的反应慢很多。 <a class="reference external" href="https://msdn.microsoft.com/en-us/Library/Windows/Hardware/ff570087%28v=vs.85%29.aspx">更多请参考</a>.</p>
</div>
<div class="section" id="cuda-error-unknown-error-in-cuctxsynchronize">
<h3>CUDA 错误: 在 cuCtxSynchronize() 中的未知错误<a class="headerlink" href="#cuda-error-unknown-error-in-cuctxsynchronize" title="Permalink to this headline">¶</a></h3>
<p>一个未知的错误可能有很多原因，但有一种可能性是它超时。请参阅上述答案以获取解决方案。</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="baking.html" class="btn btn-neutral float-right" title="渲染烘焙" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="settings/objects/hair.html" class="btn btn-neutral float-left" title="毛发粒子" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright : This page is licensed under a CC-BY-SA 4.0 Int. License

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="document versions">
<ul id="versionwrap" role="presentation">
   <li style="float:left" role="presentation">
		<span id="version-dropdown" class="version-btn" tabindex="0" role="button" aria-label="versions selector" aria-haspopup="true" aria-controls="version-vsnlist" aria-disabled="true">
		2.80 
		</span>
		<ul id="version-vsnlist" class="version-list" role="menu" aria-labelledby="version-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
   <li style="float:right" role="presentation">
		<span id="lang-dropdown" class="version-btn" tabindex="0" role="button"  aria-label="language selector" aria-haspopup="true" aria-controls="version-langlist">
			 zh-hans 
		</span>
		<ul id="version-langlist" class="version-list" role="menu" aria-labelledby="lang-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
</ul>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-1418081-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>